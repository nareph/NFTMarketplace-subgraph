type Account @entity(immutable: false) {
  id: Bytes!
  asERC721: Collection
  listed: BigInt
  sold: BigInt
  volume: BigInt
  nfts: [NFT!]! @derivedFrom(field: "owner")
}

type Collection @entity(immutable: false) {
  id: Bytes!
  asAccount: Account!
  supportsMetadata: Boolean
  name: String!
  symbol: String!
  imageUrl: String!
  listed: BigInt # number of nft currently listed
  sold: BigInt # number of nft sold
  volume: BigInt
  nfts: [NFT!]! @derivedFrom(field: "collection")
}

type NFT @entity(immutable: false){
  id: ID!
  tokenId: BigInt!
  tokenUri: String!
  owner: Account!
  collection: Collection!
}

type NFTListed @entity(immutable: false) {
  id: ID!
  nft: NFT!
  seller: Account! # address
  price: BigInt! # uint256
  currentlyListed: Boolean! # bool
}